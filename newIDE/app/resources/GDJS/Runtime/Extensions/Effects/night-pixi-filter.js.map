{
  "version": 3,
  "sources": ["../../../../../../../Extensions/Effects/night-pixi-filter.ts"],
  "sourcesContent": ["namespace gdjs {\n  import PIXI = GlobalPIXIModule.PIXI;\n  export class NightPixiFilter extends PIXI.Filter {\n    constructor() {\n      const vertexShader = undefined;\n      const fragmentShader = [\n        'precision mediump float;',\n        '',\n        'varying vec2 vTextureCoord;',\n        'uniform sampler2D uSampler;',\n        'uniform float intensity;',\n        'uniform float opacity;',\n        '',\n        'void main(void)',\n        '{',\n        '   mat3 nightMatrix = mat3(-2.0 * intensity, -1.0 * intensity, 0, -1.0 * intensity, 0, 1.0 * intensity, 0, 1.0 * intensity, 2.0 * intensity);',\n        '   gl_FragColor = texture2D(uSampler, vTextureCoord);',\n        '   gl_FragColor.rgb = mix(gl_FragColor.rgb, nightMatrix * gl_FragColor.rgb, opacity);',\n        '}',\n      ].join('\\n');\n      const uniforms = {\n        intensity: { type: '1f', value: 1 },\n        opacity: { type: '1f', value: 1 },\n      };\n      super(vertexShader, fragmentShader, uniforms);\n    }\n  }\n  NightPixiFilter.prototype.constructor = gdjs.NightPixiFilter;\n  gdjs.PixiFiltersTools.registerFilterCreator(\n    'Night',\n    new (class extends gdjs.PixiFiltersTools.PixiFilterCreator {\n      makePIXIFilter(target, effectData) {\n        const filter = new gdjs.NightPixiFilter();\n        return filter;\n      }\n      updatePreRender(filter, target) {}\n      updateDoubleParameter(filter, parameterName, value) {\n        if (parameterName !== 'intensity' && parameterName !== 'opacity') {\n          return;\n        }\n        filter.uniforms[parameterName] = gdjs.PixiFiltersTools.clampValue(\n          value,\n          0,\n          1\n        );\n      }\n      updateStringParameter(filter, parameterName, value) {}\n      updateBooleanParameter(filter, parameterName, value) {}\n    })()\n  );\n}\n"],
  "mappings": "AAAA,GAAU,MAAV,UAAU,EAAV,CACE,KAAO,GAAO,iBAAiB,KACxB,eAA8B,GAAK,MAAO,CAC/C,aAAc,CACZ,KAAM,GAAe,OACf,EAAiB,CACrB,2BACA,GACA,8BACA,8BACA,2BACA,yBACA,GACA,kBACA,IACA,gJACA,wDACA,wFACA,KACA,KAAK;AAAA,GACD,EAAW,CACf,UAAW,CAAE,KAAM,KAAM,MAAO,GAChC,QAAS,CAAE,KAAM,KAAM,MAAO,IAEhC,MAAM,EAAc,EAAgB,IAtBjC,EAAM,kBAyBb,EAAgB,UAAU,YAAc,EAAK,gBAC7C,EAAK,iBAAiB,sBACpB,QACA,GAAK,cAAc,GAAK,iBAAiB,iBAAkB,CACzD,eAAe,EAAQ,EAAY,CAEjC,MADe,IAAI,GAAK,gBAG1B,gBAAgB,EAAQ,EAAQ,EAChC,sBAAsB,EAAQ,EAAe,EAAO,CAClD,AAAI,IAAkB,aAAe,IAAkB,WAGvD,GAAO,SAAS,GAAiB,EAAK,iBAAiB,WACrD,EACA,EACA,IAGJ,sBAAsB,EAAQ,EAAe,EAAO,EACpD,uBAAuB,EAAQ,EAAe,EAAO,OA/CjD",
  "names": []
}
