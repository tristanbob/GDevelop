{
  "version": 3,
  "sources": ["../../../../../../../Extensions/3D/DirectionalLight.ts"],
  "sourcesContent": ["namespace gdjs {\n  gdjs.PixiFiltersTools.registerFilterCreator(\n    'Scene3D::DirectionalLight',\n    new (class implements gdjs.PixiFiltersTools.FilterCreator {\n      makeFilter(\n        target: EffectsTarget,\n        effectData: EffectData\n      ): gdjs.PixiFiltersTools.Filter {\n        return new (class implements gdjs.PixiFiltersTools.Filter {\n          light: THREE.DirectionalLight;\n          rotationObject: THREE.Group;\n          _isEnabled: boolean = false;\n          top: string = 'Y-';\n          elevation: float = 45;\n          rotation: float = 0;\n\n          constructor() {\n            this.light = new THREE.DirectionalLight();\n            this.light.position.set(1, 0, 0);\n            this.rotationObject = new THREE.Group();\n            this.rotationObject.add(this.light);\n            this.updateRotation();\n          }\n\n          isEnabled(target: EffectsTarget): boolean {\n            return this._isEnabled;\n          }\n          setEnabled(target: EffectsTarget, enabled: boolean): boolean {\n            if (this._isEnabled === enabled) {\n              return true;\n            }\n            if (enabled) {\n              return this.applyEffect(target);\n            } else {\n              return this.removeEffect(target);\n            }\n          }\n          applyEffect(target: EffectsTarget): boolean {\n            const scene = target.get3DRendererObject() as\n              | THREE.Scene\n              | null\n              | undefined;\n            if (!scene) {\n              return false;\n            }\n            scene.add(this.rotationObject);\n            this._isEnabled = true;\n            return true;\n          }\n          removeEffect(target: EffectsTarget): boolean {\n            const scene = target.get3DRendererObject() as\n              | THREE.Scene\n              | null\n              | undefined;\n            if (!scene) {\n              return false;\n            }\n            scene.remove(this.rotationObject);\n            this._isEnabled = false;\n            return true;\n          }\n          updatePreRender(target: gdjs.EffectsTarget): any {}\n          updateDoubleParameter(parameterName: string, value: number): void {\n            if (parameterName === 'intensity') {\n              this.light.intensity = value;\n            } else if (parameterName === 'elevation') {\n              this.elevation = value;\n              this.updateRotation();\n            } else if (parameterName === 'rotation') {\n              this.rotation = value;\n              this.updateRotation();\n            }\n          }\n          updateStringParameter(parameterName: string, value: string): void {\n            if (parameterName === 'color') {\n              this.light.color = new THREE.Color(\n                gdjs.PixiFiltersTools.rgbOrHexToHexNumber(value)\n              );\n            }\n            if (parameterName === 'top') {\n              this.top = value;\n              this.updateRotation();\n            }\n          }\n          updateBooleanParameter(parameterName: string, value: boolean): void {}\n          updateRotation() {\n            if (this.top === 'Z+') {\n              // 0\u00B0 is a light from the right of the screen.\n              this.rotationObject.rotation.z = gdjs.toRad(this.rotation);\n              this.rotationObject.rotation.y = -gdjs.toRad(this.elevation);\n            } else {\n              // 0\u00B0 becomes a light from Z+.\n              this.rotationObject.rotation.y = gdjs.toRad(this.rotation) - 90;\n              this.rotationObject.rotation.z = -gdjs.toRad(this.elevation);\n            }\n          }\n        })();\n      }\n    })()\n  );\n}\n"],
  "mappings": "AAAA,GAAU,MAAV,UAAU,EAAV,CACE,EAAK,iBAAiB,sBACpB,4BACA,GAAK,MAAqD,CACxD,WACE,EACA,EAC8B,CAC9B,MAAO,IAAK,MAA8C,CAQxD,aAAc,CALd,gBAAsB,GACtB,SAAc,KACd,eAAmB,GACnB,cAAkB,EAGhB,KAAK,MAAQ,GAAI,OAAM,iBACvB,KAAK,MAAM,SAAS,IAAI,EAAG,EAAG,GAC9B,KAAK,eAAiB,GAAI,OAAM,MAChC,KAAK,eAAe,IAAI,KAAK,OAC7B,KAAK,iBAGP,UAAU,EAAgC,CACxC,MAAO,MAAK,WAEd,WAAW,EAAuB,EAA2B,CAC3D,MAAI,MAAK,aAAe,EACf,GAEL,EACK,KAAK,YAAY,GAEjB,KAAK,aAAa,GAG7B,YAAY,EAAgC,CAC1C,KAAM,GAAQ,EAAO,sBAIrB,MAAK,GAGL,GAAM,IAAI,KAAK,gBACf,KAAK,WAAa,GACX,IAJE,GAMX,aAAa,EAAgC,CAC3C,KAAM,GAAQ,EAAO,sBAIrB,MAAK,GAGL,GAAM,OAAO,KAAK,gBAClB,KAAK,WAAa,GACX,IAJE,GAMX,gBAAgB,EAAiC,EACjD,sBAAsB,EAAuB,EAAqB,CAChE,AAAI,IAAkB,YACpB,KAAK,MAAM,UAAY,EAClB,AAAI,IAAkB,YAC3B,MAAK,UAAY,EACjB,KAAK,kBACI,IAAkB,YAC3B,MAAK,SAAW,EAChB,KAAK,kBAGT,sBAAsB,EAAuB,EAAqB,CAChE,AAAI,IAAkB,SACpB,MAAK,MAAM,MAAQ,GAAI,OAAM,MAC3B,EAAK,iBAAiB,oBAAoB,KAG1C,IAAkB,OACpB,MAAK,IAAM,EACX,KAAK,kBAGT,uBAAuB,EAAuB,EAAsB,EACpE,gBAAiB,CACf,AAAI,KAAK,MAAQ,KAEf,MAAK,eAAe,SAAS,EAAI,EAAK,MAAM,KAAK,UACjD,KAAK,eAAe,SAAS,EAAI,CAAC,EAAK,MAAM,KAAK,YAGlD,MAAK,eAAe,SAAS,EAAI,EAAK,MAAM,KAAK,UAAY,GAC7D,KAAK,eAAe,SAAS,EAAI,CAAC,EAAK,MAAM,KAAK,mBA7FtD",
  "names": []
}
