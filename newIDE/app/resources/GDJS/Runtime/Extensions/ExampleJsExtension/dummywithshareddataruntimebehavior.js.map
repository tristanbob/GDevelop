{
  "version": 3,
  "sources": ["../../../../../../../Extensions/ExampleJsExtension/dummywithshareddataruntimebehavior.ts"],
  "sourcesContent": ["namespace gdjs {\n  const logger = new gdjs.Logger('Dummy behavior (with shared data)');\n  export class DummyWithSharedDataRuntimeBehavior extends gdjs.RuntimeBehavior {\n    _textToSet: string;\n\n    constructor(\n      instanceContainer: gdjs.RuntimeInstanceContainer,\n      behaviorData: any,\n      owner: gdjs.RuntimeObject\n    ) {\n      super(instanceContainer, behaviorData, owner);\n\n      // Here you can access to the behavior data (JSON declared in JsExtension.js)\n      // using behaviorData:\n      this._textToSet = behaviorData.property1;\n\n      // You can also access to the shared data:\n      const sharedData = instanceContainer.getInitialSharedDataForBehavior(\n        behaviorData.name\n      );\n      this._textToSet = (sharedData as any).sharedProperty1;\n\n      // You can also run arbitrary code at the creation of the behavior:\n      logger.log(\n        'DummyWithSharedDataRuntimeBehavior was created for object:',\n        owner\n      );\n      logger.log('The shared data are:', sharedData);\n    }\n\n    updateFromBehaviorData(oldBehaviorData, newBehaviorData): boolean {\n      if (oldBehaviorData.property1 !== newBehaviorData.property1) {\n        this._textToSet = newBehaviorData.property1;\n      }\n\n      // Return true to specify that the new behavior data have been applied\n      // (false if you can't do it, which will disable hot-reload for the behavior).\n      return true;\n    }\n\n    onDeActivate() {}\n\n    doStepPreEvents(instanceContainer: gdjs.RuntimeInstanceContainer) {\n      // This is run at every frame, before events are launched.\n      this.owner\n        .getVariables()\n        .get('VariableSetFromBehavior')\n        .setString(this._textToSet);\n    }\n\n    doStepPostEvents(instanceContainer: gdjs.RuntimeInstanceContainer) {\n      // This is run at every frame, after events are launched.\n    }\n  }\n\n  gdjs.registerBehavior(\n    'MyDummyExtension::DummyBehaviorWithSharedData',\n    gdjs.DummyRuntimeBehavior\n  );\n}\n"],
  "mappings": "AAAA,GAAU,MAAV,UAAU,EAAV,CACE,KAAM,GAAS,GAAI,GAAK,OAAO,qCACxB,eAAiD,GAAK,eAAgB,CAG3E,YACE,EACA,EACA,EACA,CACA,MAAM,EAAmB,EAAc,GAIvC,KAAK,WAAa,EAAa,UAG/B,KAAM,GAAa,EAAkB,gCACnC,EAAa,MAEf,KAAK,WAAc,EAAmB,gBAGtC,EAAO,IACL,6DACA,GAEF,EAAO,IAAI,uBAAwB,GAGrC,uBAAuB,EAAiB,EAA0B,CAChE,MAAI,GAAgB,YAAc,EAAgB,WAChD,MAAK,WAAa,EAAgB,WAK7B,GAGT,cAAe,EAEf,gBAAgB,EAAkD,CAEhE,KAAK,MACF,eACA,IAAI,2BACJ,UAAU,KAAK,YAGpB,iBAAiB,EAAkD,GAhD9D,EAAM,qCAqDb,EAAK,iBACH,gDACA,EAAK,wBAzDC",
  "names": []
}
