{
  "version": 3,
  "sources": ["../../../../../GDJS/Runtime/oncetriggers.ts"],
  "sourcesContent": ["/*\n * GDevelop JS Platform\n * Copyright 2013-2016 Florian Rival (Florian.Rival@gmail.com). All rights reserved.\n * This project is released under the MIT License.\n */\nnamespace gdjs {\n  /**\n   * OnceTriggers is used to store the status of the conditions \"Trigger once\",\n   * that are used in events to have conditions that are only valid for one frame in a row.\n   */\n  export class OnceTriggers {\n    _onceTriggers: Record<integer, boolean> = {};\n    _lastFrameOnceTrigger: Record<integer, boolean> = {};\n\n    /**\n     * To be called when events begin so that \"Trigger once\" conditions\n     * are properly handled.\n     */\n    startNewFrame(): void {\n      // Clear triggers from 2 frames ago\n      for (const k in this._lastFrameOnceTrigger)\n        if (this._lastFrameOnceTrigger.hasOwnProperty(k))\n          delete this._lastFrameOnceTrigger[k];\n\n      // Move triggers from this frame to last frame\n      for (const k in this._onceTriggers) {\n        if (this._onceTriggers.hasOwnProperty(k)) {\n          this._lastFrameOnceTrigger[k] = this._onceTriggers[k];\n          delete this._onceTriggers[k];\n        }\n      }\n    }\n\n    /**\n     * Used by \"Trigger once\" conditions: return true only if\n     * this method was not called with the same identifier during the last frame.\n     * @param triggerId The identifier of the \"Trigger once\" condition.\n     */\n    triggerOnce(triggerId: integer): boolean {\n      this._onceTriggers[triggerId] = true;\n      return !this._lastFrameOnceTrigger.hasOwnProperty(triggerId);\n    }\n  }\n}\n"],
  "mappings": "AAKA,GAAU,MAAV,UAAU,EAAV,CAKS,OAAmB,CAAnB,aAVT,CAWI,mBAA0C,GAC1C,2BAAkD,GAMlD,eAAsB,CAEpB,SAAW,KAAK,MAAK,sBACnB,AAAI,KAAK,sBAAsB,eAAe,IAC5C,MAAO,MAAK,sBAAsB,GAGtC,SAAW,KAAK,MAAK,cACnB,AAAI,KAAK,cAAc,eAAe,IACpC,MAAK,sBAAsB,GAAK,KAAK,cAAc,GACnD,MAAO,MAAK,cAAc,IAUhC,YAAY,EAA6B,CACvC,YAAK,cAAc,GAAa,GACzB,CAAC,KAAK,sBAAsB,eAAe,IA9B/C,EAAM,iBALL",
  "names": []
}
